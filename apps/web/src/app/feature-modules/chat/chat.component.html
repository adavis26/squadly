<div [hidden]="!(chat$ | async)" class="chat-container">
  <div class="header">
    {{(chat$ | async)?.name}}
  </div>

  <div class="messages-container" #messageContainer>
    <ng-container *ngFor="let message of (chat$ | async)?.messages; let i=index">
      <app-message [message]="message" [user]="(message.userId | getUser) | async" [currentUserId]="selectedUserId$ | async"></app-message>
    </ng-container>
  </div>

  <div class="input-container">
    <mat-divider></mat-divider>
    <form (ngSubmit)="sendMessage()" style="width: 100%;">
      <mat-form-field>
        <input [(ngModel)]="content" name="content" matInput type="text" autocomplete="off">
        <button mat-button matSuffix mat-icon-button aria-label="Clear">
          <mat-icon>send</mat-icon>
        </button>
      </mat-form-field>
    </form>
  </div>
</div>
